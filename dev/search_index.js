var documenterSearchIndex = {"docs":
[{"location":"api/#API-Reference","page":"API Reference","title":"API Reference","text":"","category":"section"},{"location":"api/#Main-Functions","page":"API Reference","title":"Main Functions","text":"","category":"section"},{"location":"api/#Installation-and-CLI","page":"API Reference","title":"Installation and CLI","text":"","category":"section"},{"location":"api/#Internal-Functions","page":"API Reference","title":"Internal Functions","text":"","category":"section"},{"location":"api/#CopernicusClimateDataStore.hourly","page":"API Reference","title":"CopernicusClimateDataStore.hourly","text":"hourly(; variables, startyear, kwargs...) -> Vector{String}\n\nDownload ERA5 hourly data using era5cli.\n\nRequired Arguments\n\nvariables: Variable name(s) to download. Can be a string or vector of strings. Examples: \"2m_temperature\", [\"2m_temperature\", \"total_precipitation\"]\nstartyear: First year to download (integer).\n\nOptional Arguments\n\nendyear: Last year to download (default: same as startyear).\nmonths: Month(s) to download (1-12). Default: all months.\ndays: Day(s) to download (1-31). Default: all days.\nhours: Hour(s) to download (0-23). Default: all hours.\narea: Bounding box for spatial subsetting. Can be:\nA tuple (lat_max, lon_min, lat_min, lon_max) in era5cli order\nA NamedTuple (lat=(south, north), lon=(west, east))\nformat: Output format, \"netcdf\" (default) or \"grib\".\noutputprefix: Prefix for output filenames (default: \"era5\").\noverwrite: Overwrite existing files without prompting (default: true).\nthreads: Number of parallel download threads (default: 1).\nsplitmonths: Split output by months (default: true).\nmerge: Merge all output into a single file (default: false).\ndryrun: Print the request without downloading (default: false).\nland: Download from ERA5-Land dataset (default: false).\nensemble: Download ensemble data instead of HRES (default: false).\nlevels: Pressure level(s) for 3D variables, or :surface for surface geopotential.\nstatistics: Download ensemble statistics (default: false).\ndirectory: Directory to download files into (default: current directory).\n\nReturns\n\nIf dryrun=true: the Cmd object that would be executed.\nOtherwise: a Vector{String} of paths to the downloaded file(s).\n\nOutput Files\n\nBy default, era5cli creates one file per month (splitmonths=true). If you request multiple months, you will receive multiple files. Use merge=true to combine all data into a single file, or splitmonths=false to get one file per variable.\n\nExample\n\nusing CopernicusClimateDataStore\n\n# Download 2m temperature for a single day\nfiles = hourly(variables=\"2m_temperature\",\n               startyear=2020,\n               months=1,\n               days=1,\n               hours=12,\n               area=(lat=(40, 50), lon=(-10, 10)),\n               format=\"netcdf\")\n\n# files[1] contains the path to the downloaded NetCDF file\n\nCDS Setup Required\n\nBefore downloading, you must:\n\nCreate an account at https://cds.climate.copernicus.eu/\nAccept the Terms of Use for the ERA5 dataset on the dataset page\nConfigure your API key with era5cli config --key YOUR_KEY\n\nSee https://cds.climate.copernicus.eu/how-to-api for details.\n\n\n\n\n\n","category":"function"},{"location":"api/#CopernicusClimateDataStore.info","page":"API Reference","title":"CopernicusClimateDataStore.info","text":"info(; what=:variables, land=false, levels=false)\n\nDisplay information about available ERA5 variables or pressure levels.\n\nArguments\n\nwhat: What to show - :variables (default), :levels, or a specific variable name.\nland: Show ERA5-Land variables instead of ERA5 (default: false).\nlevels: Show available pressure levels (default: false).\n\n\n\n\n\n","category":"function"},{"location":"api/#CopernicusClimateDataStore.install_era5cli","page":"API Reference","title":"CopernicusClimateDataStore.install_era5cli","text":"install_era5cli()\n\nInstall the era5cli command-line tool (version ≥ 2.0.1) using CondaPkg. Returns the path to the installed CLI executable.\n\nNote: The old Climate Data Store (CDS) was shut down on 3 September 2024. All era5cli versions up to v1.4.2 no longer work. This function installs a compatible version.\n\n\n\n\n\n","category":"function"},{"location":"api/#CopernicusClimateDataStore.era5cli_cmd","page":"API Reference","title":"CopernicusClimateDataStore.era5cli_cmd","text":"era5cli_cmd()\n\nReturn the absolute path to the era5cli executable. If not found, attempts to install it first.\n\n\n\n\n\n","category":"function"},{"location":"api/#CopernicusClimateDataStore.build_hourly_cmd","page":"API Reference","title":"CopernicusClimateDataStore.build_hourly_cmd","text":"build_hourly_cmd(; kwargs...)\n\nBuild the command-line arguments for era5cli hourly. Returns a Cmd object ready to be executed.\n\nThe cli keyword can be used to override the path to the era5cli executable (useful for testing command construction without installing era5cli).\n\n\n\n\n\n","category":"function"},{"location":"api/#CopernicusClimateDataStore.format_area","page":"API Reference","title":"CopernicusClimateDataStore.format_area","text":"format_area(area)\n\nConvert a bounding box specification to the format required by era5cli: LAT_MAX LON_MIN LAT_MIN LON_MAX (counterclockwise starting at top).\n\nAccepts:\n\nnothing → returns nothing (no area constraint)\nA tuple/vector of 4 numbers in era5cli order: (lat_max, lon_min, lat_min, lon_max)\nA NamedTuple with keys lat and lon, each a tuple of (min, max): (lat=(lat_min, lat_max), lon=(lon_min, lon_max))\n\n\n\n\n\n","category":"function"},{"location":"api/#CopernicusClimateDataStore.monthly","page":"API Reference","title":"CopernicusClimateDataStore.monthly","text":"monthly(; variables, startyear, kwargs...)\n\nDownload ERA5 monthly-averaged data using era5cli.\n\nArguments are similar to hourly, but downloads monthly means instead of hourly data. See era5cli monthly --help for full details.\n\n\n\n\n\n","category":"function"},{"location":"#CopernicusClimateDataStore.jl","page":"Home","title":"CopernicusClimateDataStore.jl","text":"Julia wrapper around the Copernicus Climate Data Store (CDS) for downloading ERA5 reanalysis data.\n\nThis package wraps the era5cli Python command-line tool, providing a convenient Julia interface for downloading ERA5 and ERA5-Land data.","category":"section"},{"location":"#Installation","page":"Home","title":"Installation","text":"using Pkg\nPkg.add(url=\"https://github.com/NumericalEarth/CopernicusClimateDataStore.jl\")","category":"section"},{"location":"#CDS-Account-Setup","page":"Home","title":"CDS Account Setup","text":"Before downloading data, you must:\n\nCreate a CDS account at https://cds.climate.copernicus.eu/\nAccept the Terms of Use for the ERA5 dataset at https://cds.climate.copernicus.eu/datasets/reanalysis-era5-single-levels?tab=download#manage-licences\nConfigure your API key by running:\nera5cli config --key YOUR_PERSONAL_ACCESS_TOKEN\n\nYour personal access token can be found on your CDS profile page after logging in.","category":"section"},{"location":"#Quick-Start","page":"Home","title":"Quick Start","text":"","category":"section"},{"location":"#Download-ERA5-data","page":"Home","title":"Download ERA5 data","text":"using CopernicusClimateDataStore\n\n# Download 2m temperature for a single snapshot\nfiles = hourly(\n    variables = \"2m_temperature\",\n    startyear = 2020,\n    months = 1,\n    days = 1,\n    hours = 12,\n    area = (lat = (35, 60), lon = (-10, 25)),\n    format = \"netcdf\",\n    outputprefix = \"europe\"\n)\n\n# files contains the path(s) to the downloaded NetCDF file(s)\nfilename = first(files)","category":"section"},{"location":"#Load-and-plot","page":"Home","title":"Load and plot","text":"using NCDatasets\nusing CairoMakie\n\n# Open the NetCDF file\nds = NCDataset(filename)\n\nlon = ds[\"longitude\"][:]\nlat = ds[\"latitude\"][:]\ntemp_K = ds[\"t2m\"][:, :, 1]\ntemp_C = temp_K .- 273.15\n\nclose(ds)\n\n# Plot\nfig = Figure(size = (800, 600))\nax = Axis(fig[1, 1], xlabel = \"Longitude\", ylabel = \"Latitude\")\nhm = heatmap!(ax, lon, lat, temp_C', colormap = :thermal)\nColorbar(fig[1, 2], hm, label = \"Temperature (°C)\")\nfig","category":"section"},{"location":"#Key-Arguments","page":"Home","title":"Key Arguments","text":"Argument Description\nvariables Variable name(s), e.g. \"2m_temperature\"\nstartyear Year to download\nmonths Month(s), 1–12\ndays Day(s), 1–31\nhours Hour(s), 0–23\narea Bounding box: (lat = (south, north), lon = (west, east))\nformat \"netcdf\" or \"grib\"\noutputprefix Prefix for output filename\ndryrun If true, print command without downloading\nsplitmonths Split output by month (default: true)\nmerge Merge all output into a single file (default: false)\n\nNote: By default, era5cli creates one file per month. If you request multiple months, you will receive multiple files. Use merge=true to combine all data into a single file.","category":"section"},{"location":"#Common-Variables","page":"Home","title":"Common Variables","text":"Request name NetCDF name Description\n2m_temperature t2m 2 metre temperature (K)\n10m_u_component_of_wind u10 10 metre U wind (m/s)\n10m_v_component_of_wind v10 10 metre V wind (m/s)\ntotal_precipitation tp Total precipitation (m)\nmean_sea_level_pressure msl Mean sea level pressure (Pa)","category":"section"}]
}
